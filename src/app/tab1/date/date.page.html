<!-- <ion-header>
  <ion-toolbar>
    <ion-title>date</ion-title>
  </ion-toolbar>
</ion-header> -->

<ion-content>


  <div class="padding">

    <h5 class="color-pw wb" style="margin-bottom: 0;" (click)="nav.back()">
      <ion-icon src="assets/arrow-left.svg" style="position: relative; top: 3px; font-size: 20px;"></ion-icon>
      Seleccionar fecha y hora</h5>

      <br>

      <ion-item>
        
        <div>

          <div class="dates-repeat" *ngIf="dates.length">
            <li *ngFor="let date of dates">{{ (date | convertDate:dates.length) }}</li>
          </div>
          
          <div class="days-repeat" *ngIf="days.length">
            <span style="float: left;">Cada&nbsp;</span>
            <li *ngIf="days.includes(1)"> Lunes</li>
            <li *ngIf="days.includes(2)"> Martes</li>
            <li *ngIf="days.includes(3)"> Miércoles</li>
            <li *ngIf="days.includes(4)"> Jueves</li>
            <li *ngIf="days.includes(5)"> Viernes</li>
            <li *ngIf="days.includes(6)"> Sábado</li>
            <li *ngIf="days.includes(0)"> Domingo</li>
          </div>

          <div style="clear: both;"></div>

        </div>

        <div slot="end">
          <ion-icon (click)="openCalendar()" class="link color-pw" style="font-size: 24px;" src="assets/walk/calendar.svg"></ion-icon>
        </div>

      </ion-item>
      <br>

    <div class="padding" style="box-shadow: 0 0 5px silver; border-radius: 12px; text-align: center;">

      <ion-label position="stacked"> <span class="control-label"><b style="font-size: 14px !important;">Todos los:</b></span> <br> <br> </ion-label>

      <div class="days">
        <div class="day" (click)="addDay(1)" [ngClass]="{'daySelected': days.includes(1)}">
          L
        </div>

        <div class="day" (click)="addDay(2)" [ngClass]="{'daySelected': days.includes(2)}">
          M
        </div>

        <div class="day" (click)="addDay(3)" [ngClass]="{'daySelected': days.includes(3)}">
          X
        </div>

        <div class="day" (click)="addDay(4)" [ngClass]="{'daySelected': days.includes(4)}">
          J
        </div>

        <div class="day" (click)="addDay(5)" [ngClass]="{'daySelected': days.includes(5)}">
          V
        </div>

        <div class="day" (click)="addDay(6)" [ngClass]="{'daySelected': days.includes(6)}">
          S
        </div>

        <div class="day" (click)="addDay(0)" [ngClass]="{'daySelected': days.includes(0)}">
          D
        </div>
      </div>
        
    </div>

    <br>

    <ion-label position="stacked"> <span class="control-label"><b style="font-size: 14px !important; margin-bottom: 12px; display: block;">¿Cuánto quieres que dure?:</b></span> </ion-label>

    <ion-row>
      <ion-col size="6">
        <ion-select confirmText="Ok" cancelText="Cancelar">
          <ion-select-option *ngFor="let hr1 of hours">{{hr1}}</ion-select-option>
        </ion-select>
      </ion-col>
      <ion-col size="6">
        <ion-select confirmText="Ok" cancelText="Cancelar">
          <ion-select-option *ngFor="let hr2 of hours">{{hr2}}</ion-select-option>
        </ion-select>
      </ion-col>
    </ion-row>

    <br>

    <div *ngIf="!dates.length">

      <ion-label position="stacked"> <span class="control-label"><b style="font-size: 14px !important; margin-bottom: 12px; display: block;">Repetir:</b></span> </ion-label>

      <ion-row>
        <ion-col size="12">
          <ion-select [(ngModel)]="repeat">
            <ion-select-option value="0">No repetir</ion-select-option>
            <ion-select-option value="1">Repetir</ion-select-option>
          </ion-select>
        </ion-col>
      </ion-row>


      <br>

      <div *ngIf="repeat == '1'">

        <ion-list>
          <ion-radio-group [(ngModel)]="repeat_to" (ionChange)="changeOption()" value="turtles">
            
            <ion-item lines="none">
              <ion-label>Siempre</ion-label>
              <ion-radio color="secondary" slot="start" value="-1"></ion-radio>
            </ion-item>

            <ion-item lines="none">
              <ion-label>Hasta {{ repeat_to_date | convertDate }}</ion-label>
              <ion-radio color="secondary" slot="start" value="1"></ion-radio>
            </ion-item>

          </ion-radio-group>
        </ion-list>

      </div>

    </div>

  </div>

</ion-content>

<ion-footer>
  <div class="padding">
  <button class="btn-pw1" (click)="next()">Guardar</button>
  </div>

</ion-footer>

